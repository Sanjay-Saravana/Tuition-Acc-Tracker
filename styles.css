:root{
  --bg:#050816;
  --bg-alt:#0b1330;
  --surface:#121d40;
  --surface-2:#182650;
  --surface-3:#223369;
  --text:#f5f8ff;
  --muted:#9fb0d8;
  --primary:#7c8cff;
  --primary-2:#4fe0c2;
  --border:#31457c;
  --danger:#ef476f;
  --shadow:0 20px 55px #01051366;
}

:root[data-theme="light"]{
  --bg:#eef3ff;
  --bg-alt:#dae6ff;
  --surface:#ffffff;
  --surface-2:#f4f7ff;
  --surface-3:#e8eeff;
  --text:#17233d;
  --muted:#5a6f95;
  --primary:#4d63f7;
  --primary-2:#1da1a2;
  --border:#cfdbfb;
  --danger:#de2f59;
  --shadow:0 16px 40px #8ea4d42f;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Manrope,system-ui,sans-serif;
  color:var(--text);
  background:
    radial-gradient(circle at 14% 14%,#57c0ff2e 0,transparent 40%),
    radial-gradient(circle at 82% 0%,#6a7dff3a 0,transparent 38%),
    linear-gradient(170deg,var(--bg),var(--bg-alt));
}

.app-shell{width:min(1600px,100%);margin-inline:auto;padding:18px}
.layout-shell{display:grid;grid-template-columns:300px minmax(0,1fr);gap:18px;min-height:100vh}

.side-nav{
  position:sticky;
  top:18px;
  align-self:start;
  min-height:calc(100vh - 36px);
  display:flex;
  flex-direction:column;
  gap:12px;
  padding:20px;
  border:1px solid var(--border);
  border-radius:24px;
  background:linear-gradient(180deg,color-mix(in srgb,var(--surface) 88%,transparent),color-mix(in srgb,var(--surface-2) 90%,transparent));
  box-shadow:var(--shadow);
  backdrop-filter:blur(8px);
}
.nav-overline{margin:0;color:var(--primary-2);font-size:11px;letter-spacing:.16em;text-transform:uppercase;font-weight:800}
.brand-block{display:flex;align-items:center;gap:12px;padding-bottom:10px;border-bottom:1px solid var(--border)}
.logo-mark{width:50px;height:50px;border-radius:16px;display:grid;place-items:center;background:linear-gradient(145deg,var(--primary),var(--primary-2));font-size:24px;box-shadow:0 10px 26px #0f1f474f}
.brand-block h1{margin:0;font-size:1.08rem}
.brand-block p{margin:0;color:var(--muted);font-size:.78rem}
.nav-label{margin:6px 0 2px;font-size:.67rem;font-weight:800;letter-spacing:.14em;color:var(--muted);text-transform:uppercase}
.tab-list{display:grid;gap:8px}
.tab{
  appearance:none;
  border:1px solid var(--border);
  border-radius:14px;
  background:color-mix(in srgb,var(--surface-2) 86%, transparent);
  color:var(--text);
  padding:12px;
  font-weight:700;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:9px;
  text-align:left;
  transition:.2s ease;
}
.tab span{font-size:15px}
.tab:hover{transform:translateY(-1px);border-color:color-mix(in srgb,var(--primary) 65%,var(--border))}
.tab.active{background:linear-gradient(132deg,var(--primary),#5c7eff);color:#fff;border-color:transparent;box-shadow:0 12px 28px #4967de45}
.side-bottom{margin-top:auto;display:grid;gap:8px}

.main-area{min-width:0;padding:8px 0 22px}
.top-strip{padding:8px 6px 20px}
.hero-kicker{margin:0 0 4px;font-size:.72rem;text-transform:uppercase;letter-spacing:.16em;color:var(--primary-2);font-weight:800}
.top-strip h2{margin:0;font-size:clamp(1.35rem,2.5vw,2rem)}
.li-sub{margin:6px 0 0;color:var(--muted);font-size:.86rem}

.panel{display:none}
.panel.active{display:block;animation:panelIn .25s ease}
@keyframes panelIn{from{opacity:.3;transform:translateY(4px)}to{opacity:1;transform:none}}

.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:14px}
.card{
  border:1px solid var(--border);
  border-radius:18px;
  padding:16px;
  background:linear-gradient(165deg,color-mix(in srgb,var(--surface) 88%,transparent),color-mix(in srgb,var(--surface-2) 95%,transparent));
  box-shadow:var(--shadow);
}
.cards-kpi .card{position:relative;overflow:hidden}
.cards-kpi .card::after{content:"";position:absolute;inset:auto -20px -50px auto;width:100px;height:100px;border-radius:50%;background:#99a8ff1f}
.kpi-label{font-size:.72rem;letter-spacing:.08em;text-transform:uppercase;color:var(--muted);font-weight:800}
.kpi-value{font-size:clamp(1.35rem,2.5vw,2rem);font-weight:800;margin-top:8px}

.card-title{font-weight:800;margin-bottom:12px;font-size:.98rem}
.chart-header{display:flex;justify-content:space-between;gap:12px;align-items:flex-start;flex-wrap:wrap}
.btn-group{display:flex;gap:6px;flex-wrap:wrap}
.chip-btn{border:1px solid var(--border);background:var(--surface-2);color:var(--text);padding:7px 11px;border-radius:999px;cursor:pointer;font-weight:700;font-size:.74rem}
.chip-btn.active{background:linear-gradient(130deg,var(--primary),#6f84ff);color:#fff;border-color:transparent}
.spotlight-card{border-color:color-mix(in srgb,var(--primary) 35%,var(--border))}
.chart-card canvas{width:100%!important;height:300px!important}
.student-hours{height:320px!important}

.panel-header{display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;margin-bottom:12px}
.header-actions-inline{display:flex;gap:8px;flex-wrap:wrap}

.list{display:grid;gap:10px}
.list-item{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
  padding:14px;
  border-radius:15px;
  background:color-mix(in srgb,var(--surface-2) 82%, transparent);
  border:1px solid var(--border);
}
.li-title{font-weight:700}
.li-right{display:flex;gap:8px;flex-wrap:wrap}
.empty-state{padding:18px;text-align:center;border:1px dashed var(--border);border-radius:14px;color:var(--muted);background:color-mix(in srgb,var(--surface-2) 55%,transparent)}

.filters-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:10px;margin-bottom:12px}
.filters-row label,.grid-3 label{display:grid;gap:6px;font-size:.85rem;color:var(--muted)}

.chip{display:inline-flex;align-items:center;gap:6px;border:1px solid var(--border);border-radius:999px;padding:2px 9px;background:var(--surface)}
.swatch{width:10px;height:10px;border-radius:3px}

.primary,.secondary,.icon-btn{border-radius:12px;padding:10px 13px;font-weight:700;font:inherit;cursor:pointer;transition:.2s ease}
.primary{border:none;background:linear-gradient(145deg,var(--primary),#647eff);color:#fff;box-shadow:0 10px 22px #4866df33}
.secondary,.icon-btn{border:1px solid var(--border);background:var(--surface-2);color:var(--text)}
.primary:hover,.secondary:hover,.icon-btn:hover{transform:translateY(-1px)}
.icon-btn{padding:8px 10px}

.form{display:grid;gap:10px;min-width:min(560px,92vw)}
.form label{display:grid;gap:6px;color:var(--muted);font-size:.83rem}
input,select,textarea,.file-input{border:1px solid var(--border);background:var(--surface-2);color:var(--text);border-radius:11px;padding:10px 12px;font:inherit}
.dialog{border:none;border-radius:16px;padding:16px;background:var(--surface);color:var(--text);box-shadow:var(--shadow)}
.dialog::backdrop{background:#0206179e}
.dialog-actions{display:flex;justify-content:flex-end;gap:8px;flex-wrap:wrap}

.multi-student,.ms-rows{display:grid;gap:8px}
.ms-header{display:flex;justify-content:space-between;gap:10px;align-items:center}
.ms-row{display:grid;grid-template-columns:1fr 130px 42px;gap:8px}

.grid-3{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:10px;align-items:end}
.emoji-output{white-space:pre-wrap;max-height:320px;overflow:auto;background:var(--surface-2);border:1px solid var(--border);border-radius:10px;padding:12px}
.report-totals{margin-top:14px;line-height:1.8}
.export-spacer{margin-top:10px}
#exportExcel{width:100%}

@media (max-width:1100px){
  .layout-shell{grid-template-columns:1fr}
  .side-nav{position:relative;top:0;min-height:auto}
  .tab-list{grid-template-columns:repeat(3,minmax(0,1fr))}
  .tab{justify-content:center;text-align:center}
  .main-area{padding-top:2px}
}

@media (max-width:760px){
  .app-shell{padding:10px}
  .tab-list{grid-template-columns:repeat(2,minmax(0,1fr))}
  .cards{grid-template-columns:1fr}
  .chart-card canvas,.student-hours{height:250px!important}
  .list-item{flex-direction:column}
  .li-right{width:100%;justify-content:flex-end}
  .grid-3{grid-template-columns:1fr}
  .ms-row{grid-template-columns:1fr 1fr 42px}
}

@media (max-width:520px){
  .top-strip{padding-bottom:14px}
  .side-nav{padding:14px;border-radius:18px}
  .tab{padding:10px;font-size:.88rem}
  .primary,.secondary,.icon-btn{width:100%}
  .panel-header .primary,.panel-header .secondary,.panel-header .icon-btn{width:auto}
  .ms-row{grid-template-columns:1fr}
  .form{min-width:min(100%,92vw)}
}
